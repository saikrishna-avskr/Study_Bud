<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Evaluate Assignment</title>
    <style>
        .exit-button {
            position: absolute;
            top: 10px;
            right: 10px;
            padding: 8px 15px;
            background-color: red;
            color: white;
            border: none;
            cursor: pointer;
            text-decoration: none;
            font-size: 14px;
            border-radius: 5px;
        }
        .exit-button:hover {
            background-color: darkred;
        }
        .lexit-button {
            position: relative;
            color: white;
            cursor: pointer;
        }
    </style>
</head>
<body>
    {% if current_question_index < total_questions|add:"-1" %}
        <a href="/evaluate_assignment/" class="exit-button">Exit</a>
    {% endif %}

    <h2>Question {{ current_question_index|add:"1" }} of {{ total_questions }}</h2>
    <p><strong>Question:</strong> {{ current_question }}</p>
    
    <form action="/evaluate_assignment/" method="post">
        {% csrf_token %}
        <input type="hidden" name="intype" value="{{ intype }}">
        <input type="hidden" name="current_question_index" value="{{ current_question_index }}">
        
        <label for="user_answer">Your Answer:</label>
        <textarea name="user_answer" id="user_answer" rows="5" cols="50">{{ user_answer }}</textarea>
        
        <button type="submit" name="submit">Submit Answer</button>
    </form>
    
    <h3>Evaluation:</h3>
    <p>{{ evaluation_response|safe }}</p>
    
    <form action="/evaluate_assignment/" method="post">
        {% csrf_token %}
        <input type="hidden" name="intype" value="{{ intype }}">
        <input type="hidden" name="current_question_index" value="{{ current_question_index }}">

        {% if current_question_index > 0 %}
            <button type="submit" name="prev">Previous</button>
        {% endif %}

        {% if current_question_index < total_questions|add:"-1" %}
            <button type="submit" name="next">Next</button>
        {% else %}
            <button class="lexit-button"><a href="/evaluate_assignment/">Exit</a></button>
        {% endif %}
    </form>
</body>
</html>
